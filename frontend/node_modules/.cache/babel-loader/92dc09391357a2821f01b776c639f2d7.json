{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getColorIndex = exports.getColorDiffStatus = exports.hexDiff = exports.rgbDiff = exports.deltaE94 = exports.rgbToCIELab = exports.xyzToCIELab = exports.rgbToXyz = exports.hslToRgb = exports.rgbToHsl = exports.rgbToHex = exports.hexToRgb = exports.defer = exports.RSHIFT = exports.SIGBITS = exports.DELTAE94_DIFF_STATUS = void 0;\nexports.DELTAE94_DIFF_STATUS = {\n  NA: 0,\n  PERFECT: 1,\n  CLOSE: 2,\n  GOOD: 10,\n  SIMILAR: 50\n};\nexports.SIGBITS = 5;\nexports.RSHIFT = 8 - exports.SIGBITS;\n\nfunction defer() {\n  var resolve;\n  var reject; // eslint-disable-next-line promise/param-names\n\n  var promise = new Promise(function (_resolve, _reject) {\n    resolve = _resolve;\n    reject = _reject;\n  }); // @ts-ignore\n\n  return {\n    resolve: resolve,\n    reject: reject,\n    promise: promise\n  };\n}\n\nexports.defer = defer;\n\nfunction hexToRgb(hex) {\n  var m = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  return m === null ? null : [m[1], m[2], m[3]].map(function (s) {\n    return parseInt(s, 16);\n  });\n}\n\nexports.hexToRgb = hexToRgb;\n\nfunction rgbToHex(r, g, b) {\n  return '#' + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1, 7);\n}\n\nexports.rgbToHex = rgbToHex;\n\nfunction rgbToHsl(r, g, b) {\n  r /= 255;\n  g /= 255;\n  b /= 255;\n  var max = Math.max(r, g, b);\n  var min = Math.min(r, g, b);\n  var h;\n  var s;\n  var l = (max + min) / 2;\n\n  if (max === min) {\n    h = s = 0;\n  } else {\n    var d = max - min;\n    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n\n    switch (max) {\n      case r:\n        h = (g - b) / d + (g < b ? 6 : 0);\n        break;\n\n      case g:\n        h = (b - r) / d + 2;\n        break;\n\n      case b:\n        h = (r - g) / d + 4;\n        break;\n    } // @ts-ignore\n\n\n    h /= 6;\n  } // @ts-ignore\n\n\n  return [h, s, l];\n}\n\nexports.rgbToHsl = rgbToHsl;\n\nfunction hslToRgb(h, s, l) {\n  var r;\n  var g;\n  var b;\n\n  function hue2rgb(p, q, t) {\n    if (t < 0) t += 1;\n    if (t > 1) t -= 1;\n    if (t < 1 / 6) return p + (q - p) * 6 * t;\n    if (t < 1 / 2) return q;\n    if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n    return p;\n  }\n\n  if (s === 0) {\n    r = g = b = l;\n  } else {\n    var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n    var p = 2 * l - q;\n    r = hue2rgb(p, q, h + 1 / 3);\n    g = hue2rgb(p, q, h);\n    b = hue2rgb(p, q, h - 1 / 3);\n  }\n\n  return [r * 255, g * 255, b * 255];\n}\n\nexports.hslToRgb = hslToRgb;\n\nfunction rgbToXyz(r, g, b) {\n  r /= 255;\n  g /= 255;\n  b /= 255;\n  r = r > 0.04045 ? Math.pow((r + 0.005) / 1.055, 2.4) : r / 12.92;\n  g = g > 0.04045 ? Math.pow((g + 0.005) / 1.055, 2.4) : g / 12.92;\n  b = b > 0.04045 ? Math.pow((b + 0.005) / 1.055, 2.4) : b / 12.92;\n  r *= 100;\n  g *= 100;\n  b *= 100;\n  var x = r * 0.4124 + g * 0.3576 + b * 0.1805;\n  var y = r * 0.2126 + g * 0.7152 + b * 0.0722;\n  var z = r * 0.0193 + g * 0.1192 + b * 0.9505;\n  return [x, y, z];\n}\n\nexports.rgbToXyz = rgbToXyz;\n\nfunction xyzToCIELab(x, y, z) {\n  var REF_X = 95.047;\n  var REF_Y = 100;\n  var REF_Z = 108.883;\n  x /= REF_X;\n  y /= REF_Y;\n  z /= REF_Z;\n  x = x > 0.008856 ? Math.pow(x, 1 / 3) : 7.787 * x + 16 / 116;\n  y = y > 0.008856 ? Math.pow(y, 1 / 3) : 7.787 * y + 16 / 116;\n  z = z > 0.008856 ? Math.pow(z, 1 / 3) : 7.787 * z + 16 / 116;\n  var L = 116 * y - 16;\n  var a = 500 * (x - y);\n  var b = 200 * (y - z);\n  return [L, a, b];\n}\n\nexports.xyzToCIELab = xyzToCIELab;\n\nfunction rgbToCIELab(r, g, b) {\n  var _a = rgbToXyz(r, g, b),\n      x = _a[0],\n      y = _a[1],\n      z = _a[2];\n\n  return xyzToCIELab(x, y, z);\n}\n\nexports.rgbToCIELab = rgbToCIELab;\n\nfunction deltaE94(lab1, lab2) {\n  var WEIGHT_L = 1;\n  var WEIGHT_C = 1;\n  var WEIGHT_H = 1;\n  var L1 = lab1[0],\n      a1 = lab1[1],\n      b1 = lab1[2];\n  var L2 = lab2[0],\n      a2 = lab2[1],\n      b2 = lab2[2];\n  var dL = L1 - L2;\n  var da = a1 - a2;\n  var db = b1 - b2;\n  var xC1 = Math.sqrt(a1 * a1 + b1 * b1);\n  var xC2 = Math.sqrt(a2 * a2 + b2 * b2);\n  var xDL = L2 - L1;\n  var xDC = xC2 - xC1;\n  var xDE = Math.sqrt(dL * dL + da * da + db * db);\n  var xDH = Math.sqrt(xDE) > Math.sqrt(Math.abs(xDL)) + Math.sqrt(Math.abs(xDC)) ? Math.sqrt(xDE * xDE - xDL * xDL - xDC * xDC) : 0;\n  var xSC = 1 + 0.045 * xC1;\n  var xSH = 1 + 0.015 * xC1;\n  xDL /= WEIGHT_L;\n  xDC /= WEIGHT_C * xSC;\n  xDH /= WEIGHT_H * xSH;\n  return Math.sqrt(xDL * xDL + xDC * xDC + xDH * xDH);\n}\n\nexports.deltaE94 = deltaE94;\n\nfunction rgbDiff(rgb1, rgb2) {\n  var lab1 = rgbToCIELab.apply(undefined, rgb1);\n  var lab2 = rgbToCIELab.apply(undefined, rgb2);\n  return deltaE94(lab1, lab2);\n}\n\nexports.rgbDiff = rgbDiff;\n\nfunction hexDiff(hex1, hex2) {\n  var rgb1 = hexToRgb(hex1);\n  var rgb2 = hexToRgb(hex2);\n  return rgbDiff(rgb1, rgb2);\n}\n\nexports.hexDiff = hexDiff;\n\nfunction getColorDiffStatus(d) {\n  if (d < exports.DELTAE94_DIFF_STATUS.NA) {\n    return 'N/A';\n  } // Not perceptible by human eyes\n\n\n  if (d <= exports.DELTAE94_DIFF_STATUS.PERFECT) {\n    return 'Perfect';\n  } // Perceptible through close observation\n\n\n  if (d <= exports.DELTAE94_DIFF_STATUS.CLOSE) {\n    return 'Close';\n  } // Perceptible at a glance\n\n\n  if (d <= exports.DELTAE94_DIFF_STATUS.GOOD) {\n    return 'Good';\n  } // Colors are more similar than opposite\n\n\n  if (d < exports.DELTAE94_DIFF_STATUS.SIMILAR) {\n    return 'Similar';\n  }\n\n  return 'Wrong';\n}\n\nexports.getColorDiffStatus = getColorDiffStatus;\n\nfunction getColorIndex(r, g, b) {\n  return (r << 2 * exports.SIGBITS) + (g << exports.SIGBITS) + b;\n}\n\nexports.getColorIndex = getColorIndex;","map":{"version":3,"mappings":"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","names":["exports","NA","PERFECT","CLOSE","GOOD","SIMILAR","defer","resolve","reject","promise","Promise","_resolve","_reject","hexToRgb","hex","m","exec","map","s","rgbToHex","r","g","b","toString","slice","rgbToHsl","max","Math","min","h","l","d","hslToRgb","hue2rgb","p","q","t","rgbToXyz","pow","x","y","z","xyzToCIELab","REF_X","REF_Y","REF_Z","L","a","rgbToCIELab","deltaE94","lab1","lab2","WEIGHT_L","WEIGHT_C","WEIGHT_H","a1","b1","a2","b2","dL","L1","L2","da","db","xC1","sqrt","xC2","xDL","xDC","xDE","xDH","abs","xSC","xSH","rgbDiff","rgb1","rgb2","apply","undefined","hexDiff","hex1","hex2","getColorDiffStatus","getColorIndex"],"sources":["/home/fortnyce/Desktop/work_schedule_assigner/node_modules/node-vibrant/src/util.ts"],"sourcesContent":["import { Vec3 } from './color'\n\nexport const DELTAE94_DIFF_STATUS = {\n  NA: 0,\n  PERFECT: 1,\n  CLOSE: 2,\n  GOOD: 10,\n  SIMILAR: 50\n}\n\nexport const SIGBITS = 5\nexport const RSHIFT = 8 - SIGBITS\n\nexport interface IndexedObject {\n  [key: string]: any\n}\n\nexport interface DeferredPromise<R> {\n  resolve: (thenableOrResult: R | PromiseLike<R>) => void\n  reject: (error: any) => void\n  promise: Promise<R>\n}\n\nexport function defer<R>(): DeferredPromise<R> {\n  let resolve: (thenableOrResult: R | PromiseLike<R>) => void\n  let reject: (error: any) => void\n  // eslint-disable-next-line promise/param-names\n  let promise = new Promise<R>((_resolve, _reject) => {\n    resolve = _resolve\n    reject = _reject\n  })\n  // @ts-ignore\n  return { resolve, reject, promise }\n}\n\nexport function hexToRgb(hex: string): Vec3 | null {\n  let m = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex)\n\n  return m === null ? null : <Vec3>[m[1], m[2], m[3]].map((s) => parseInt(s, 16))\n}\n\nexport function rgbToHex(r: number, g: number, b: number): string {\n  return '#' + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1, 7)\n}\n\nexport function rgbToHsl(r: number, g: number, b: number): Vec3 {\n  r /= 255\n  g /= 255\n  b /= 255\n  let max = Math.max(r, g, b)\n  let min = Math.min(r, g, b)\n  let h: number\n  let s: number\n  let l = (max + min) / 2\n  if (max === min) {\n    h = s = 0\n  } else {\n    let d = max - min\n    s = l > 0.5 ? d / (2 - max - min) : d / (max + min)\n    switch (max) {\n      case r:\n        h = (g - b) / d + (g < b ? 6 : 0)\n        break\n      case g:\n        h = (b - r) / d + 2\n        break\n      case b:\n        h = (r - g) / d + 4\n        break\n    }\n\n    // @ts-ignore\n    h /= 6\n  }\n  // @ts-ignore\n  return [h, s, l]\n}\n\nexport function hslToRgb(h: number, s: number, l: number): Vec3 {\n  let r: number\n  let g: number\n  let b: number\n\n  function hue2rgb(p: number, q: number, t: number): number {\n    if (t < 0) t += 1\n    if (t > 1) t -= 1\n    if (t < 1 / 6) return p + (q - p) * 6 * t\n    if (t < 1 / 2) return q\n    if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6\n    return p\n  }\n\n  if (s === 0) {\n    r = g = b = l\n  } else {\n    let q = l < 0.5 ? l * (1 + s) : l + s - (l * s)\n    let p = 2 * l - q\n    r = hue2rgb(p, q, h + 1 / 3)\n    g = hue2rgb(p, q, h)\n    b = hue2rgb(p, q, h - (1 / 3))\n  }\n  return [\n    r * 255,\n    g * 255,\n    b * 255\n  ]\n}\n\nexport function rgbToXyz(r: number, g: number, b: number): Vec3 {\n  r /= 255\n  g /= 255\n  b /= 255\n  r = r > 0.04045 ? Math.pow((r + 0.005) / 1.055, 2.4) : r / 12.92\n  g = g > 0.04045 ? Math.pow((g + 0.005) / 1.055, 2.4) : g / 12.92\n  b = b > 0.04045 ? Math.pow((b + 0.005) / 1.055, 2.4) : b / 12.92\n\n  r *= 100\n  g *= 100\n  b *= 100\n\n  let x = r * 0.4124 + g * 0.3576 + b * 0.1805\n  let y = r * 0.2126 + g * 0.7152 + b * 0.0722\n  let z = r * 0.0193 + g * 0.1192 + b * 0.9505\n\n  return [x, y, z]\n}\n\nexport function xyzToCIELab(x: number, y: number, z: number): Vec3 {\n  let REF_X = 95.047\n  let REF_Y = 100\n  let REF_Z = 108.883\n\n  x /= REF_X\n  y /= REF_Y\n  z /= REF_Z\n\n  x = x > 0.008856 ? Math.pow(x, 1 / 3) : 7.787 * x + 16 / 116\n  y = y > 0.008856 ? Math.pow(y, 1 / 3) : 7.787 * y + 16 / 116\n  z = z > 0.008856 ? Math.pow(z, 1 / 3) : 7.787 * z + 16 / 116\n\n  let L = 116 * y - 16\n  let a = 500 * (x - y)\n  let b = 200 * (y - z)\n\n  return [L, a, b]\n}\n\nexport function rgbToCIELab(r: number, g: number, b: number): Vec3 {\n  let [x, y, z] = rgbToXyz(r, g, b)\n  return xyzToCIELab(x, y, z)\n}\n\nexport function deltaE94(lab1: Vec3, lab2: Vec3): number {\n  let WEIGHT_L = 1\n  let WEIGHT_C = 1\n  let WEIGHT_H = 1\n\n  let [L1, a1, b1] = lab1\n  let [L2, a2, b2] = lab2\n  let dL = L1 - L2\n  let da = a1 - a2\n  let db = b1 - b2\n\n  let xC1 = Math.sqrt(a1 * a1 + b1 * b1)\n  let xC2 = Math.sqrt(a2 * a2 + b2 * b2)\n\n  let xDL = L2 - L1\n  let xDC = xC2 - xC1\n  let xDE = Math.sqrt(dL * dL + da * da + db * db)\n\n  let xDH = (Math.sqrt(xDE) > Math.sqrt(Math.abs(xDL)) + Math.sqrt(Math.abs(xDC)))\n    ? Math.sqrt(xDE * xDE - xDL * xDL - xDC * xDC)\n    : 0\n\n  let xSC = 1 + 0.045 * xC1\n  let xSH = 1 + 0.015 * xC1\n\n  xDL /= WEIGHT_L\n  xDC /= WEIGHT_C * xSC\n  xDH /= WEIGHT_H * xSH\n\n  return Math.sqrt(xDL * xDL + xDC * xDC + xDH * xDH)\n}\n\nexport function rgbDiff(rgb1: Vec3, rgb2: Vec3): number {\n  let lab1 = rgbToCIELab.apply(undefined, rgb1)\n  let lab2 = rgbToCIELab.apply(undefined, rgb2)\n  return deltaE94(lab1, lab2)\n}\n\nexport function hexDiff(hex1: string, hex2: string): number {\n  let rgb1 = hexToRgb(hex1)\n  let rgb2 = hexToRgb(hex2)\n\n  return rgbDiff(rgb1!, rgb2!)\n}\n\nexport function getColorDiffStatus(d: number): string {\n  if (d < DELTAE94_DIFF_STATUS.NA) { return 'N/A' }\n  // Not perceptible by human eyes\n  if (d <= DELTAE94_DIFF_STATUS.PERFECT) { return 'Perfect' }\n  // Perceptible through close observation\n  if (d <= DELTAE94_DIFF_STATUS.CLOSE) { return 'Close' }\n  // Perceptible at a glance\n  if (d <= DELTAE94_DIFF_STATUS.GOOD) { return 'Good' }\n  // Colors are more similar than opposite\n  if (d < DELTAE94_DIFF_STATUS.SIMILAR) { return 'Similar' }\n  return 'Wrong'\n}\n\nexport function getColorIndex(r: number, g: number, b: number): number {\n  return (r << (2 * SIGBITS)) + (g << SIGBITS) + b\n}\n"]},"metadata":{},"sourceType":"script"}